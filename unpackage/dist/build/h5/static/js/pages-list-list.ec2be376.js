(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-list-list"],{"45b7":function(t,e,i){i("d3b7");var a="https://api.ttianxuan.com/";function r(t,e){uni.showLoading({title:"加载中..."});var i=new Promise((function(i,r){if(""==e||void 0==e||null==e)var o={},n=JSON.stringify(o);else n=JSON.stringify(e);var c="",l="";uni.request({url:a+"index.php?s=/api/"+t+c+"&application=app&application_client_type=weixin&token="+l+"&ajax=ajax",data:n,method:"POST",header:{"content-type":"application/json; charset=utf-8"},success:function(t){uni.hideLoading(),200==t.statusCode?i(t.data):i(t.data.msg)},error:function(t){r("网络出错"),uni.hideLoading()}})}));return i}function o(t,e){var i=new Promise((function(i,r){var o=e;uni.request({url:a+t,data:o,method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){t.statusCode,i(t.data)},error:function(t){r("网络出错")}})}));return i}t.exports={post:r,get:o}},6475:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},r=a;e.default=r},"6d0c":function(t,e,i){"use strict";var a=i("ee27");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("45b7")),o=a(i("6475")),n={mixins:[o.default],data:function(){return{catrgoryList:[],product:[],catrgory:[],select_index:0,makeup:!0,page:1,category_id:""}},onLoad:function(){this.getClassification()},methods:{getClassification:function(){var t=this,e={};r.default.post("goods/category",e).then((function(e){console.log(e),t.catrgoryList=e.data,t.chooseGoods(e.data[0].id)}))},getList:function(t){var e=this;console.log("获取数据列表");t=t;r.default.post("search/index",t).then((function(t){console.log(t),e.catrgory=t.data.data,e.makeup=!1}))},choose:function(t,e){this.select_index!==t&&(this.select_index=t,this.chooseGoods(e))},chooseGoods:function(t){var e=this;e.catrgory=[];var i=e.catrgoryList;console.log(i,"hahha"),e.category_id=t,console.log(t,"品类id");for(var a=[],r=0;r<i.length;r++)if(t==i[r].id){var o=i[r].items.length;if(console.log(o,"item的长度"),a=i[r].items,0==o){console.log("获取商品列表");var n={category_id:t,page:e.page};e.getList(n)}else e.product=a,e.makeup=!0}},upCallback:function(t){var e=this;console.log(t);var i={category_id:this.category_id,page:t.num};r.default.post("search/index",i).then((function(i){var a=i.data.data;e.mescroll.endByPage(a.length,i.data.page_total),1==t.num&&(e.catrgory=[]),e.catrgory=e.catrgory.concat(a)})).catch((function(){e.mescroll.endErr()}))},enterDetail:function(t){uni.navigateTo({url:"/pages/productList/productList?goods_id="+t})},navToDetailPage:function(t){uni.navigateTo({url:"/pages/productDetails/productDetails?goods_id="+t})},share:function(){console.log("分享")}}};e.default=n},"76e2":function(t,e,i){"use strict";i.r(e);var a=i("6d0c"),r=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=r.a},"796d":function(t,e,i){"use strict";var a,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[t.catrgoryList.length>0?a("v-uni-view",{staticClass:"category-wrapper"},[a("v-uni-scroll-view",{staticClass:"left-wrapper",attrs:{"scroll-y":"true","scroll-with-animation":"true"}},[a("v-uni-view",{staticClass:"left-content"},t._l(t.catrgoryList,(function(e,i){return a("v-uni-view",{key:e.id,staticClass:"title-content",class:t.select_index===i?"onSelected":"",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.choose(i,e.id)}}},[a("v-uni-text",[t._v(t._s(e.name))]),a("v-uni-text",{staticClass:"title-english"},[t._v("English")])],1)})),1)],1),t.makeup?a("v-uni-scroll-view",{staticClass:"right-wrapper",attrs:{"scroll-y":"true","scroll-with-animation":"true"}},[a("v-uni-view",{staticClass:"right-content"},[a("v-uni-view",{staticClass:"product-wrapper"},[a("v-uni-view",{staticClass:"category-content"},t._l(t.product,(function(e,i){return a("v-uni-view",{key:e.id,staticClass:"product-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.enterDetail(e.id)}}},[a("v-uni-image",{staticClass:"product-img",attrs:{src:e.icon}})],1)})),1)],1)],1)],1):a("v-uni-scroll-view",{staticClass:"right-wrapper",attrs:{"scroll-y":"true","scroll-with-animation":"true"}},[a("mescroll-body",{ref:"mescrollRef",on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"right-content"},[a("v-uni-view",{staticClass:"product-wrapper"},[a("v-uni-view",{staticClass:"category-content"},t._l(t.catrgory,(function(e,r){return a("v-uni-view",{key:e.id,staticClass:"category-list",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navToDetailPage(e.id)}}},[a("v-uni-image",{staticClass:"category_img",attrs:{src:e.images,mode:""}}),a("v-uni-view",{staticClass:"category_txt"},[a("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))]),a("v-uni-text",{staticClass:"price"},[a("v-uni-text",{staticClass:"symbol"},[t._v("￥")]),t._v(t._s(e.min_price)),a("v-uni-text",{staticClass:"earn"},[t._v("/赚"),a("v-uni-text",[t._v("3.6")])],1)],1),a("v-uni-image",{attrs:{src:i("97e2")},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.share.apply(void 0,arguments)}}})],1)],1)})),1)],1)],1)],1)],1)],1):t._e()],1)},o=[];i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"97e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADOUlEQVRoQ+2Zz2vUUBDHv5Psdhc9FDzoSSw99KwsCPoHVFfYbdMkVbD2oKJUvfRgRW0VrbbgwYsoIr1oQakJm3S1e+g/IAgLnhRExIqCJ6WFpS758STiwtJutukm2R+SXDMz7/uZGfLeyxA6/KEO148IoNUVdK2ALMu8bdvDHMedBXAYQLJBsT8Nw0jruv7WzV+SpGtENA2Aq2XDGCsDyBPRuKIo36ttagJkMpkdyWQyB+BIg6Kr3SzLsk7mcrmFOgAviOjEVmsxxt6vra0dXF5eLlVsawKIoviA47hLAL7atn3Ztu13jDFrqwVqvec4rpzL5b7V802lUvGenp69lmVt0hOPxycAnKv4G4ZxXtf1J64A2Wx2TyKR+ALABHBAUZRPjQgPwkeSpCkAt5xYRPQLwC7TNGc0TbvuCjAwMDDa1dX1lDH2WlXVTBBCGolRLZ4xNkVEfUQ0ahjGrK7r11wBBgcHr8bj8RkA84qijDayuF+favEAbqqqOi1J0jwRjbQ9QC3xTkI6AsBNfEcAOOKJ6DZjjFXaproV27oC9TJfgWhbgK0yXwGQZfkZgFOmad7VNG2yLb5CXsU7YgVBOMrz/Pj6+vrY0tLS55YDSJI06Zx/3Hre66d409bdjH0gKPF/d+iNpGEDbGibG6qq3vGa7Vp2TQXYTs97hWoaQBjim9ZCYYlvCkBQ4tPpdCKZTPZqmvahur1CbaGhoaEzPM/P+f1UOoJFUZwloiuGYYwsLi4+b8o+IIriaSK6B+C+qqrOEb3hp2VHCee6WCwWjYaV/3NsGYBf4W1/mPMKGFXAa6bCsosqEFZmvcaNKuA1U2HZRRUIK7Ne40YV8JqpsOz+mwp4/r0O4JWiKNmwMrrduLIs5wFkyuXyWD6ff+x6HxAEYXcsFltxBhymaaY0Tfu43cWCthcEoS8WixUB8KVSqbdQKPxwBXBeSJL0kIguMMZWGGMTfkZMfmCIiOc4br9zKSKifYyxR6qqXqx7pXRe9vf37+zu7n4J4JgfAQH7FlZXV4erB3xO/LpjVsuyjvM874xZD/kYs/rh+A3gjWVZczzPLyiKsmnQGE3q/aQ3CN+oAkFk0U+MPw+Kik8qIS/bAAAAAElFTkSuQmCC"},a548:function(t,e,i){"use strict";i.r(e);var a=i("796d"),r=i("76e2");for(var o in r)"default"!==o&&function(t){i.d(e,t,(function(){return r[t]}))}(o);i("c72c");var n,c=i("f0c5"),l=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,"c7e4b18c",null,!1,a["a"],n);e["default"]=l.exports},bb84:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.page .category-wrapper[data-v-c7e4b18c]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;position:absolute;top:0;bottom:0}.page .category-wrapper .left-wrapper[data-v-c7e4b18c]{border-top:%?1?% #f7f3f1 solid;width:%?161?%;-webkit-box-flex:0;-webkit-flex:0 0 %?161?%;flex:0 0 %?161?%}.page .category-wrapper .left-wrapper .left-content .title-content[data-v-c7e4b18c]{width:100%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;cursor:pointer;font-size:%?26?%;line-height:%?36?%}.page .category-wrapper .left-wrapper .left-content .title-content .title-english[data-v-c7e4b18c]{font-family:uniicons;font-size:%?22?%;line-height:%?32?%;letter-spacing:%?6?%}.page .category-wrapper .left-wrapper .left-content .title-content.onSelected[data-v-c7e4b18c]{position:relative;color:#ffa68f}.page .category-wrapper .left-wrapper .left-content .title-content.onSelected[data-v-c7e4b18c]::before{content:"";position:absolute;left:0;top:0;margin-top:%?26?%;width:%?4?%;height:%?52?%;background:-webkit-linear-gradient(326deg,#ffa68f,#fb7c22);background:linear-gradient(124deg,#ffa68f,#fb7c22)}.page .category-wrapper .right-wrapper[data-v-c7e4b18c]{border-top:%?1?% #f7f3f1 solid;-webkit-box-flex:1;-webkit-flex:1;flex:1;background-color:#fff}.page .category-wrapper .right-wrapper .right-content[data-v-c7e4b18c]{width:100%;border-left:%?1?% solid #efefef;-webkit-box-sizing:border-box;box-sizing:border-box}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-content[data-v-c7e4b18c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-justify-content:space-around;justify-content:space-around;-webkit-align-content:space-around;align-content:space-around}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-content .product-item[data-v-c7e4b18c]{margin-top:%?98?%;width:%?260?%;height:%?86?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-content .product-item .product-img[data-v-c7e4b18c]{width:100%;height:100%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list[data-v-c7e4b18c]{width:100%;padding:%?26?% %?34?%;display:-webkit-box;display:-webkit-flex;display:flex}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_img[data-v-c7e4b18c]{width:%?218?%;height:%?218?%;margin-right:%?13?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt[data-v-c7e4b18c]{padding:%?15?% 0;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;position:relative}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt .title[data-v-c7e4b18c]{font-size:%?24?%;color:#000;line-height:%?40?%;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;\n  /*重点，不能用block等其他*/-webkit-line-clamp:2;\n  /*重点IE和火狐不支持*/-webkit-box-orient:vertical\n  /*重点*/}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt .price[data-v-c7e4b18c]{font-family:Akrobat-Regular;font-size:%?40?%;line-height:%?48?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt .price .symbol[data-v-c7e4b18c]{font-size:%?24?%;line-height:%?34?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt .price .earn[data-v-c7e4b18c]{font-family:SourceHanSansCN-Regular;font-size:%?24?%;color:#ff8160;line-height:%?36?%;margin-left:%?6?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt .price .earn uni-text[data-v-c7e4b18c]{margin-left:%?4?%;font-family:Akrobat-Regular;font-size:%?38?%;line-height:%?48?%}.page .category-wrapper .right-wrapper .right-content .product-wrapper .category-list .category_txt uni-image[data-v-c7e4b18c]{width:%?32?%;height:%?32?%;position:absolute;bottom:%?18?%;right:0}',""]),t.exports=e},c72c:function(t,e,i){"use strict";var a=i("eb85"),r=i.n(a);r.a},eb85:function(t,e,i){var a=i("bb84");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("4f06").default;r("f92718aa",a,!0,{sourceMap:!1,shadowMode:!1})}}]);